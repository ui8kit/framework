Backlog готов. Вот краткий обзор 15 архитектурных задач, сгруппированных по приоритету:

[Backlog.md](backlog.md)

**High impact (5):**
- **ARCH-01** — DSL-хендлеры зашиты в switch, нет реестра для расширения
- **ARCH-02** — Маркеры `___REACT_ELSE___` — хрупкий string parsing, может сломаться на контенте
- **ARCH-03** — `TemplateService` напрямую работает с файловой системой, нет абстракции
- **ARCH-04** — Список `passthroughComponents` ручной — забыл добавить компонент → тихая поломка
- **ARCH-05** — Нет реестра блоков и метаданных — ручной экспорт не масштабируется на 100+ блоков

**Medium impact (7):**
- **ARCH-06** — Дизайн-токены захардкожены в каждом блоке (`py="24"`, `gap="8"`)
- **ARCH-07** — Тип компонента определяется регулярками по имени — эвристика
- **ARCH-08** — Расширения файлов зашиты в сервисе, а не в плагине
- **ARCH-09** — Анализатор выражений не знает `?.`, `??`, чейнинг методов
- **ARCH-10** — Layouts жёстко привязаны к partials через прямые импорты
- **ARCH-11** — Конфиг только в TypeScript, нет JSON/YAML формата
- **ARCH-12** — Нет инкрементальной генерации и watch-режима

**Low impact (3):**
- **ARCH-13** — DSL компоненты не валидируют пропсы
- **ARCH-14** — Часть core-компонентов обходит utility props и хардкодит className
- **ARCH-15** — Нет базового класса для JSX-семейства (React, Preact, Solid)

Также в секцию **Current Tasks** добавил обнаруженный баг: динамические пропсы `href={ctaUrl}` генерируются как строки `href="ctaUrl"` вместо выражений.