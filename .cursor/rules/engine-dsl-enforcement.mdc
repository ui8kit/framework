---
description: strict rules for apps/engine - no hardcode, ui8kit + template DSL only
globs: apps/engine/**
alwaysApply: false
---

# Engine DSL Enforcement

Scope: this rule is mandatory for any edits under `apps/engine/**`.

## Non-negotiable constraints

1. Do not hardcode business/content values in engine components. Move values to props, data sources, or template variables.
2. Build template logic strictly with `@ui8kit/template` DSL primitives (`If`, `Else`, `ElseIf`, `Loop`, `Var`, `Slot`, `Include`, `DefineBlock`, `Extends`) when logic/output targets template generation.
3. Follow ui8kit semantics: use semantic components and props, avoid `className`, inline `style`, raw HTML wrappers when ui8kit primitives exist.
4. Keep all comments and docs in English.

## Required checks before finalizing

1. Always run lint for `apps/engine` after any code change (no exceptions):
   - `bun run lint` (from `apps/engine`)
2. Always run DSL lint for engine sources:
   - `bun run lint:dsl` (from `apps/engine`)
   - or equivalent: `bun run packages/lint/src/cli/validate-dsl.ts apps/engine/src`
3. If a command cannot be run, explicitly report it and why; do not claim success.

## Reject patterns

- Hardcoded literals that should be template/data variables (titles, labels, prices, statuses, feature flags).
- Direct template syntax strings instead of DSL components when editing React/TSX sources.
- Any change that bypasses `apps/engine` lint + DSL lint without reporting the skipped check.
