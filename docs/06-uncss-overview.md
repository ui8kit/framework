# 6. –ß—Ç–æ —Ç–∞–∫–æ–µ UnCSS

UnCSS - —ç—Ç–æ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –¥–ª—è **—É–¥–∞–ª–µ–Ω–∏—è –Ω–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã—Ö CSS —Å—Ç–∏–ª–µ–π** –∏–∑ –≤–∞—à–∏—Ö —Ç–∞–±–ª–∏—Ü —Å—Ç–∏–ª–µ–π. –û–Ω –∞–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç HTML –¥–æ–∫—É–º–µ–Ω—Ç—ã –∏ —É–¥–∞–ª—è–µ—Ç –ø—Ä–∞–≤–∏–ª–∞ CSS, –∫–æ—Ç–æ—Ä—ã–µ –Ω–µ –ø—Ä–∏–º–µ–Ω—è—é—Ç—Å—è –Ω–∏ –∫ –æ–¥–Ω–æ–º—É —ç–ª–µ–º–µ–Ω—Ç—É.

## üéØ –û—Å–Ω–æ–≤–Ω–∞—è –∏–¥–µ—è

–ü—Ä–µ–¥—Å—Ç–∞–≤—å—Ç–µ, —á—Ç–æ —É –≤–∞—Å –µ—Å—Ç—å CSS —Ñ–∞–π–ª —Å 3000 —Å—Ç—Ä–æ–∫–∞–º–∏, –Ω–æ –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è —Ç–æ–ª—å–∫–æ 20% —ç—Ç–∏—Ö —Å—Ç–∏–ª–µ–π. UnCSS –Ω–∞–π–¥–µ—Ç –∏ –æ—Å—Ç–∞–≤–∏—Ç —Ç–æ–ª—å–∫–æ —Ç–µ 20%, —É–¥–∞–ª–∏–≤ –æ—Å—Ç–∞–ª—å–Ω–æ–µ.

### –ü—Ä–∏–º–µ—Ä

**–í—Ö–æ–¥–Ω–æ–π CSS:**
```css
.button { background: blue; }
.unused { color: red; }
.another-unused { font-size: 20px; }
```

**HTML:**
```html
<button class="button">–ö–ª–∏–∫–Ω–∏ –º–µ–Ω—è</button>
```

**–†–µ–∑—É–ª—å—Ç–∞—Ç UnCSS:**
```css
.button { background: blue; }
/* .unused –∏ .another-unused —É–¥–∞–ª–µ–Ω—ã */
```

## üèóÔ∏è –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç UnCSS

### 1. –ü–∞—Ä—Å–∏–Ω–≥ HTML

UnCSS –∏—Å–ø–æ–ª—å–∑—É–µ—Ç **JSDOM** –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–≥–æ DOM –∏–∑ –≤–∞—à–∏—Ö HTML —Ñ–∞–π–ª–æ–≤:

```javascript
const { JSDOM } = require('jsdom');
const dom = new JSDOM('<html><body><div class="used">Hello</div></body></html>');

// –¢–µ–ø–µ—Ä—å –º–æ–∂–Ω–æ –∏—Å–∫–∞—Ç—å —ç–ª–µ–º–µ–Ω—Ç—ã
const element = dom.window.document.querySelector('.used');
```

### 2. –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ —Å–µ–ª–µ–∫—Ç–æ—Ä–æ–≤

–ò–∑ HTML –∏–∑–≤–ª–µ–∫–∞—é—Ç—Å—è –≤—Å–µ –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ —Å–µ–ª–µ–∫—Ç–æ—Ä—ã:
- –ö–ª–∞—Å—Å—ã (`.class`)
- ID (`#id`)
- –ê—Ç—Ä–∏–±—É—Ç—ã (`[data-*]`)
- –¢–µ–≥–∏ (`div`, `span`)
- –ü—Å–µ–≤–¥–æ-—Å–µ–ª–µ–∫—Ç–æ—Ä—ã (`:hover`, `:focus`)

### 3. –ê–Ω–∞–ª–∏–∑ CSS

CSS –ø–∞—Ä—Å–∏—Ç—Å—è —Å –ø–æ–º–æ—â—å—é **PostCSS**, –∏ –∫–∞–∂–¥—ã–π —Å–µ–ª–µ–∫—Ç–æ—Ä –ø—Ä–æ–≤–µ—Ä—è–µ—Ç—Å—è:

```javascript
// –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–µ–ª–µ–∫—Ç–æ—Ä–∞
if (document.querySelector(selector)) {
  // –°–µ–ª–µ–∫—Ç–æ—Ä –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è - –æ—Å—Ç–∞–≤–∏—Ç—å
} else {
  // –°–µ–ª–µ–∫—Ç–æ—Ä –Ω–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è - —É–¥–∞–ª–∏—Ç—å
}
```

### 4. –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞

–°–æ–∑–¥–∞–µ—Ç—Å—è –Ω–æ–≤—ã–π CSS —Ñ–∞–π–ª —Ç–æ–ª—å–∫–æ —Å –∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–º–∏ –ø—Ä–∞–≤–∏–ª–∞–º–∏.

## üìä –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –≤ –Ω–∞—à–µ–º –ø—Ä–æ–µ–∫—Ç–µ

### –î–æ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏
```
–§–∞–π–ª: dist/assets/index-*.css
–†–∞–∑–º–µ—Ä: 127 KB
–°—Ç—Ä–æ–∫: 2,959
–°–µ–ª–µ–∫—Ç–æ—Ä–æ–≤: ~5,000
```

### –ü–æ—Å–ª–µ UnCSS
```
–§–∞–π–ª: dist/assets/clean.css
–†–∞–∑–º–µ—Ä: 18 KB
–°—Ç—Ä–æ–∫: 611
–°–µ–ª–µ–∫—Ç–æ—Ä–æ–≤: ~800
```

**–≠–∫–æ–Ω–æ–º–∏—è: 86% —Ä–∞–∑–º–µ—Ä–∞ —Ñ–∞–π–ª–∞!**

## üîß –û—Å–Ω–æ–≤–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

### –ê–Ω–∞–ª–∏–∑ –Ω–µ—Å–∫–æ–ª—å–∫–∏—Ö —Ñ–∞–π–ª–æ–≤

```javascript
uncss(['index.html', 'about.html', 'contact.html'], {
  // –û–ø—Ü–∏–∏
}, callback);
```

### –ò–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞–Ω–∏–µ —Å–µ–ª–µ–∫—Ç–æ—Ä–æ–≤

```javascript
uncss(['index.html'], {
  ignore: [
    // –î–∏–Ω–∞–º–∏—á–µ—Å–∫–∏ –¥–æ–±–∞–≤–ª—è–µ–º—ã–µ –∫–ª–∞—Å—Å—ã
    /\.is-/,
    /\.has-/,

    // JavaScript –±–∏–±–ª–∏–æ—Ç–µ–∫–∏
    /^js-/,
    /^swiper-/,

    // CSS —Ñ—Ä–µ–π–º–≤–æ—Ä–∫–∏
    /^uk-/,
    /^fa-/
  ]
});
```

### –†–∞–±–æ—Ç–∞ —Å –º–µ–¥–∏–∞-–∑–∞–ø—Ä–æ—Å–∞–º–∏

UnCSS –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç `@media` –∑–∞–ø—Ä–æ—Å—ã –∏ –æ—Å—Ç–∞–≤–ª—è–µ—Ç —Å—Ç–∏–ª–∏ –¥–ª—è –≤—Å–µ—Ö breakpoint'–æ–≤.

### –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –ø—Ä–µ–ø—Ä–æ—Ü–µ—Å—Å–æ—Ä–æ–≤

–†–∞–±–æ—Ç–∞–µ—Ç —Å CSS, SCSS, LESS, Stylus - –ª—é–±—ã–º —è–∑—ã–∫–æ–º, –∫–æ—Ç–æ—Ä—ã–π –∫–æ–º–ø–∏–ª–∏—Ä—É–µ—Ç—Å—è –≤ CSS.

## üéØ –ö–æ–≥–¥–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å UnCSS

### ‚úÖ –ò–¥–µ–∞–ª—å–Ω–æ –¥–ª—è

- **Production —Å–±–æ—Ä–∫–∏** - —Ñ–∏–Ω–∞–ª—å–Ω–∞—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è
- **–°—Ç–∞—Ç–∏—á–µ—Å–∫–∏–µ —Å–∞–π—Ç—ã** - –∫–æ–≥–¥–∞ –≤–µ—Å—å HTML –∏–∑–≤–µ—Å—Ç–µ–Ω
- **–ö–æ–º–ø–æ–Ω–µ–Ω—Ç–Ω—ã–µ —Ñ—Ä–µ–π–º–≤–æ—Ä–∫–∏** - React, Vue, Angular
- **CSS —Ñ—Ä–µ–π–º–≤–æ—Ä–∫–∏** - Tailwind, Bootstrap, Bulma

### ‚ùå –ù–µ –ø–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è

- **SPA —Å –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–º –∫–æ–Ω—Ç–µ–Ω—Ç–æ–º** - –µ—Å–ª–∏ HTML –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç—Å—è JS
- **–ë–æ–ª—å—à–∏–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è** - –∞–Ω–∞–ª–∏–∑ –º–æ–∂–µ—Ç –±—ã—Ç—å –º–µ–¥–ª–µ–Ω–Ω—ã–º
- **–°—Ç–∏–ª–∏ —Å JavaScript** - –µ—Å–ª–∏ –∫–ª–∞—Å—Å—ã –¥–æ–±–∞–≤–ª—è—é—Ç—Å—è –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏

## üîÑ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è –≤ workflow

### –° Vite.js

```javascript
// vite.config.ts
export default {
  plugins: [
    // –í–∞—à–∏ –ø–ª–∞–≥–∏–Ω—ã
  ],
  build: {
    rollupOptions: {
      plugins: [
        // UnCSS –∫–∞–∫ –ø–æ—Å—Ç-–ø—Ä–æ—Ü–µ—Å—Å–æ—Ä
      ]
    }
  }
}
```

### –° PostCSS

```javascript
// postcss.config.mjs
export default {
  plugins: {
    // –°–Ω–∞—á–∞–ª–∞ Tailwind –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç CSS
    tailwindcss: {},

    // –ü–æ—Ç–æ–º UnCSS –æ—á–∏—â–∞–µ—Ç –Ω–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º–æ–µ
    uncss: {
      html: ['./dist/**/*.html']
    },

    // –ù–∞–∫–æ–Ω–µ—Ü –º–∏–Ω–∏—Ñ–∏–∫–∞—Ü–∏—è
    cssnano: {}
  }
}
```

### –°–∫—Ä–∏–ø—Ç—ã –≤ package.json

```json
{
  "scripts": {
    "build": "vite build",
    "optimize": "uncss dist/index.html dist/assets/index.css -o dist/assets/clean.css",
    "build:optimized": "npm run build && npm run optimize"
  }
}
```

## üõ†Ô∏è –ö–æ–º–∞–Ω–¥–Ω–∞—è —Å—Ç—Ä–æ–∫–∞

### –ë–∞–∑–æ–≤–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

```bash
# –û—á–∏—Å—Ç–∏—Ç—å –æ–¥–∏–Ω —Ñ–∞–π–ª
uncss index.html styles.css > clean.css

# –ú–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã
uncss index.html about.html styles.css > clean.css

# –° –æ–ø—Ü–∏—è–º–∏
uncss --ignore '.ignore-me' index.html styles.css > clean.css
```

### –ü—Ä–æ–¥–≤–∏–Ω—É—Ç—ã–µ –æ–ø—Ü–∏–∏

```bash
# –ò–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞—Ç—å —Å–µ–ª–µ–∫—Ç–æ—Ä—ã
uncss --ignore '.unused,.temp' index.html styles.css

# –°—Ç—Ä–æ–≥–∏–π —Ä–µ–∂–∏–º
uncss --strict index.html styles.css

# –° –æ—Ç—á–µ—Ç–æ–º
uncss --report index.html styles.css
```

## üìà –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ UnCSS

### –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å

- **–ë—ã—Å—Ç—Ä–∞—è –∑–∞–≥—Ä—É–∑–∫–∞** - –º–µ–Ω—å—à–µ CSS = –±—ã—Å—Ç—Ä–µ–µ —Ä–µ–Ω–¥–µ—Ä
- **–ú–µ–Ω—å—à–µ –±–ª–æ–∫–∏—Ä–æ–≤–æ–∫** - CSS –Ω–µ –±–ª–æ–∫–∏—Ä—É–µ—Ç —Ä–µ–Ω–¥–µ—Ä
- **–õ—É—á—à–∏–µ –º–µ—Ç—Ä–∏–∫–∏** - –ø–æ–≤—ã—à–∞–µ—Ç Lighthouse score

### SEO

- **–ß–∏—Å—Ç—ã–π –∫–æ–¥** - –ø–æ–∏—Å–∫–æ–≤–∏–∫–∏ –ª—é–±—è—Ç –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–π CSS
- **–ë—ã—Å—Ç—Ä–µ–µ –∏–Ω–¥–µ–∫—Å–∞—Ü–∏—è** - –º–µ–Ω—å—à–µ –≤—Ä–µ–º–µ–Ω–∏ –Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫—É
- **–õ—É—á—à–µ —Ä–∞–Ω–∂–∏—Ä–æ–≤–∞–Ω–∏–µ** - –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å = —Ñ–∞–∫—Ç–æ—Ä —Ä–∞–Ω–∂–∏—Ä–æ–≤–∞–Ω–∏—è

### –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞

- **–ë—ã—Å—Ç—Ä–∞—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∞** - –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ –ª—é–±—ã–µ —Å—Ç–∏–ª–∏ –≤–æ –≤—Ä–µ–º—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
- **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ—á–∏—Å—Ç–∫–∞** - –Ω–µ –Ω—É–∂–Ω–æ –≤—Ä—É—á–Ω—É—é —É–¥–∞–ª—è—Ç—å –Ω–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º–æ–µ
- **–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å** - –Ω–µ —Å–ª–æ–º–∞–µ—Ç–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ —Å—Ç–∏–ª–∏

## üéØ –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

UnCSS - —ç—Ç–æ –º–æ—â–Ω—ã–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ CSS. –û–Ω –∏–¥–µ–∞–ª—å–Ω–æ –ø–æ–¥—Ö–æ–¥–∏—Ç –¥–ª—è —Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –≤–µ–±-–ø—Ä–æ–µ–∫—Ç–æ–≤, –≥–¥–µ –≤–∞–∂–Ω–æ —Å–æ—á–µ—Ç–∞—Ç—å —É–¥–æ–±—Å—Ç–≤–æ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏ (Tailwind CSS) —Å –º–∞–∫—Å–∏–º–∞–ª—å–Ω–æ–π –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å—é –≤ production.

–í –Ω–∞—à–µ–º –ø—Ä–æ–µ–∫—Ç–µ UnCSS –¥–∞–ª **79% —ç–∫–æ–Ω–æ–º–∏—é** —Ä–∞–∑–º–µ—Ä–∞ CSS —Ñ–∞–π–ª–∞, —á—Ç–æ –∫—Ä–∏—Ç–∏—á–Ω–æ –¥–ª—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–≥–æ –æ–ø—ã—Ç–∞ –∏ SEO.